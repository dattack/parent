#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
language: java
jdk:
- openjdk8
dist: bionic
notifications:
  email:
    recipients:
    - dev@dattack.com
    on_success: always
    on_failure: always
  slack:
    secure: Ow2kNNMMefF905Z2Fy1/dZdCu5gC8xZ0bkiE3GjN5Ib3lcA3xpeerglg+3rey5N2FQLwN6/dkatzqu/pyM+MjAAtDGrbBYBNZ2n2n4/ckpnetpgTob+dKXcN7s/I/7eLnQ+eeOh1LP5ww3c6q2v1ofrTZwb5qH4Q5KjpMwuid7O01lBsX+QwOsPQdDLjLhndgzTi+uktgFoLO9uax65JrVHsqDy3orARX7/boVBtO9MuEf5BWFPI2oEOSPK2lWXx9FadezWJyHb3Iigrk10D2uVMXZh4GWuRSX7CjIp5UjU546f10WdBNPG811wHlygSEfCHaLKNQYPCzpQvXWJdfiRBJQ1ZHW5pceyZxgsFXKrxIedQrE3calVl/6bGThBF4RiqQ+Ar7R8N5JOV3T0qVMZ2crg7HJOphxAuS1t18ZzLX9XFQHugmrq2nJeKB3EwqFfgDS8eyRmGM1xJIz7b+pnzspSvhR7e5BCLxOYf7rKq8kDDxWwd7kcbfHTz6j/jvuj8zQoXrQnUbbC9IkGefg11vVdFQhYiMeaZSYF1hleDoR/7P7N9I/Q0DldIDC/2EBywTeTj4cVreFKp9Hydgk90gAtHHp0tetKN4SRNl1SsovZxz0NZnwxc/YtbDuNOmsKxsJ7kFuqXZLnS7JTkH5K7Ra4C1BkS5/ddoBtt2PE=
cache:
  directories:
  - "~/.m2/repository"
env:
  global:
  - secure: N+vBMRNgtcp5v0UNI5EC0rxTno8zTo+kJYwuzwDMnbB+0Jg78/TkO2Y1iKy0Q0ThxkCS6MWZzzxcWO6YhED3Tf94gioF33rDuF4FKf70yAG9nK595hCH6YAU0vEJ/kvWyWSyVj8sd/Y9SAZbS5NKMtnXCVOfN9dcx1bwopMRe5ymX2Hp1tY+2HBGwsedbctFQC0kDqEt9MaA+f3480FDPwT4og2xVfD/5YrpyPS2KWJa0tSvLvPVSfu8FSARfFV2aCTev/a0ZBBX7cmoEPTd3wurXOS+EMattJNmYo5NjCQSr2DZ7nTu+fcUH8vnfVWOBTy2xj9D1zX1ZcZNZRVE53Wqb9nJQ2dcuExufRsbU69s/+qA8OFhGWLUI8/3VLUdQbIUemRkIaJuUVlHWImG086jvvHqDxltyZQj/TqF4tf9Ye44/zNDD6/Rtj4nrVZRMTM75c0W2tL19VNq+xdSuw5+oaAIZquIyVQ5xovqP7U/JTbujmG4Nul068Kk+qEnUgZFrHPHTtTkfl825RXMknpnJxz4yGvlTV49OlWk3kJ1P7nWEu3+MOloy2/B4STNsIfNQyaM3QiyDLkLAvrmtXXIB8zXgce4fEfxDQ66gGaYKRwbns+UwS5LX3ku/LGTZTWzFmD5qRClUS2Z3/o1PcxKFmQFfJUsP0FptnDsGvE=
  - secure: KKMGM5FnP7vkC6RkB1U3vdINBO695INH7SlhbT/vXmd272oNsXNmLrRNpExUj2/DJ/lpzDNVcIaF0JB6xFv11DJThTHVVZep29im6ThzFxVRcOogZV4l667/obRmk0IIEirlcTE7dY17qJ4OFlmwXso8l5wxlAHwV0+PdJs5anBztHiGQMJecXi4levg1A3RE5ev+4LpqNd42pRFcp1PHx/3xPQTy+v8nFFeysjx6+AM7V6eBlrjm3mToosWF+51D1uOJyLzguZY29JxLCxOP+1v0DFA4ZeoWP+vXZLaA+HOgxGYAP3KftfcG02APDhCMqJ5Ak1JVVbDtO/uS8A7GfuM4D5dgDDJdq8Hbtwap6sixvMCVhBFDW/8uHusmSPEnWgdA1uw2ow+FddY/1vnZDjMXEF+69l7c3rWjwiSJ5EHnRL/ck2DgyclEcKn45xaZta0yzySODcKuyrgSLSKCAdkR7pSqC2g1MEhMzQGDlcT0wQwJ3CpDJ+SUq5iK/hDZ/szfXz2tP5kAbueo9clPU64UiwZc8hlonbjsWiq3ryjKao+V2kg/+7m3YmiTQ8p3I3VXrzBLMCBlcgFhtBKEgJHJ4CNfdqcBz5l5HH5d3fuqj87mWFSe1hw1ZhZiQYeqdr7k0Qum9vNZGXa5m93/MVeoi7pTI0PCByb/WRglvQ=
  - secure: oI7AJy9FHw/L9lCpt2N21I7nuUx6k5Px1R6Qw1Kx2CEdxqqR6+ujLV9gw9Z/AoKaAvRfpy+IddHfh5z9A7M55XyMJlbd50/TRu+B1kjPGAt7ELhTNpsTBSSk5ayt9krxbZkgG5WHWC45Sd6yKT5obiqEi++3jxmVAWvyfrAfLdCywteUtZZH0bMml0Urp9z1ELnxIoGDV2vo89wLWRG+uJEJWbrtO8cfoD2ESXlqbtwf5zN940+v8cuo9CtrsnLqS/31Oml1XMeIl2fYFMmlszVxg8uTSgeTv1GZW2HANju2eLNw0S/X6LL5QB1htIgzfrep7/0dhsU4AyJsydwNFY+Ksgzrk/m00zIBqZE1vMewkiqeWKuNHRke4nTXAMSu0hY/phxV6SxksmoCLleYNZjq3OdvPkkP0w/uwo9qCGvXyZiAZIhv2zLP9ErVxeOTtcKKTmnOHPhYThUOy4yofL4wtKNL62KZPJ+HlBQLshLdxpiAt6ZCn4bhOwgryoN2cKpWNDVexZHsjJftUWejh83WTY38hUccAzeP8gWmn8T4TD9xgrQ3yBbqKoNyl1T2oQhuKH7VFTJbBW/bInjgwZtWN8VrWSA9mIfwtzFDw8bu09DuM1FQ+BG53mJsNjwsIiR+T5KarEQoe8km3G8ViH4Z5zNkXc/bXX9oXfLVUf4=
  - secure: lvyFTKjSrEtKsuaVtD2Giay3oK3CBQq2AOSbfYWibalzCciw8IlfNGkqZPdTcvVtNAB5SuS2Y8hPy/fhD57kEWhKa4tkyrr6zkqterl9w0mTneMZ/DxASpPc2OGeFckuw0AF9Cfc5GKZn4nLeVwWxUV3MmJVvwuYJKVKEb4QDfQyuOGD5PBIWSam4vC3iLrgzHf0rWhxwVNkT+zA5r/mAFbxAoVyRsdE0SPS1Scsub7ZR9tAZ8vQ+Mafcf2kjY+wdhOoDwKVZoBAY3sMrFnE8Fn3nSit9Mi9w5mbakSS2jFOVREOahF6eQbH0U6mpmGKhbS6Oc+3lrd2qbXVFOu3fucPZBIU6r9wl5JZv8+rIHcWCETw1YQI0/N19acC8BlqZm7/wsVuXmouzAF05h2o9+CW+uEaNxh8uohHC70yYNGIcqPN78L3bnKItNj/xypPxx8hBf2IWPQq2aaa6ZtMhZVmXH3oFaXtUxoODjEcdHtY5JpJZhWV5sA0OjEwb2cz9YeLzYUNK73uuNZreLHSUAbKELCWuwgji2/3qd4GYDBYLXKfjIkjacsHMRyKJ26pcEtWNl8PABObUyDuX/6krOisw3SojpQ+pDe92Acf4RoBJg5AdspIpAIuXIRKYHj334vAvfz5XCiKWgdOdrkGiW/9OWMCJR2OlxNVz/4g81E=
install: mvn -P !build-extras install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn -P !build-extras test -B
before_install:
- openssl aes-256-cbc -K $encrypted_711e5bbf5b76_key -iv $encrypted_711e5bbf5b76_iv
  -in .travis/codesigning.asc.enc -out .travis/codesigning.asc -d
- gpg --batch --fast-import .travis/codesigning.asc
deploy:
  skip_cleanup: true
  provider: script
  script: mvn -P sign,build-extras -s .travis/settings.xml deploy -DskipTests
  on:
    all_branches: true
    condition: "$TRAVIS_BRANCH =~ ^(master|develop)$"
